syntax = "proto3";

option go_package = "sync_tree_server/api";

package api;


service SyncTree{
    rpc UserCreate(UserCreateRequest) returns (Response) {}
    rpc UserUpdate(UserUpdateRequest) returns (Response) {}
    rpc UserSend(UserSendRequest) returns (Response) {}
    rpc UserLook(UserLookRequest) returns (UserLookResponse) {}
}

// most common response, checks if operation goes ok
message Response{
    bool Passed = 1;
}

// request to craete a new user
message UserCreateRequest{
    bytes PublicKey = 1;
    bytes MesssageKey = 2;
    string PublicName = 3;
    bytes Sign = 4;
}

// request to update user information
message UserUpdateRequest{
    bytes PublicKey = 1;
    bytes MesssageKey = 2;
    string PublicName = 3;
    bytes Sign = 4;
}

// request get some user information
message UserLookRequest{
    bytes Adress = 1;
}

// reqsponse giving public name of requested adress
message UserLookResponse{
    string PublicName = 2; 
}

// reqsponse giving public name of requested adress
message UserSendRequest{
    bytes PublicKey = 1;
    uint64 SendAmount = 2;
    bytes RecieverAdress = 3;
    bytes Sign = 4;
}
